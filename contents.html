<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BLearnch</title>
  <link rel="stylesheet" href="./css/common.css">
  <link rel="stylesheet" href="./css/board.css">
  <link rel="stylesheet" href="./css/contents.css">
  <script src="./js/jquery-3.6.0.min.js"></script>
</head>
<body>
  <header>
    <div class="search-wrap">
      <div class="search-inner">
        <div class="search-bar">
          <a class="search-back"></a>
          <input type="text" placeholder="검색어를 입력해주세요.">
          <input type="button">
        </div>
      </div>
    </div>
    <div class="header-search">
      <span></span>
      <span></span>
    </div>
    <a class="mainLogo" href="./index.html"><img src="./img/main_logo.png" alt="LX인터네셔널"></a>
    <ul>
      <li><a href="./magazine.html">Focus Session</a></li>
      <li><a href="./people.html">People</a></li>
      <li><a href="./issue.html">NewsRoom</a></li>
      <li><a href="./contents.html">Contents</a></li>
      <li><a href="./event.html">LXI Square</a></li>
    </ul>
    <div class="mobGnb">
      <span></span><span></span><span></span>
    </div>
    <section id="gnbSection">
      <div class="head">
        <a href="/index.html"><img src="./img/main_logo_w.png" alt="LX International"></a>
        <div class="closeBtn">
          <span></span><span></span>
        </div>
      </div>
      <div class="gnbList">
        <ul>
          <li><span>01</span><a href="/magazine.html">Focus Session</a></li>
          <li><span>02</span><a href="/people.html">People</a></li>
          <li><span>02</span><a href="/issue.html">NewsRoom</a></li>
          <li><span>02</span><a href="/contents.html">Contents</a></li>
          <li><span>02</span><a href="/event.html">LXI Square</a></li>
        </ul>
      </div>
      <p id="copyright">Copyright© by LX International Corp. ALL RIGHT RESERVED.</p>
    </section>
  </header>
  
  <div id="wrap" class="eventPg">
    <section id="titles">
      <div class="title">
        <!--22.05.27 타이틀 수정-->
        <h1>Contents</h1>
        <p>이제는 필수가 되버린 ESG! 최신 ESG 소식과 요즘의 똑트랜디한 콘텐츠를 즐겨보세요!</p>
      </div>
    </section>
    <img class="ebg_1" src="./img/cbg_1.png">
    <img class="ebg_2" src="./img/cbg_2.png">
    <div class="sliderWrap">
      <!--22.05.13 팝업링크 추가-->
      <div id="slider">
        <div class="slide so puw">
          <p class="a_ctg tc1">ESG Contents</p>
          <a class="aLink" href="javascript:void(0);"><div class="siw"><div class="siwHover"><p>DETAIL VIEW</p></div><img src="./img/magazine1.png"></div><p class="sDate">2022.10.28</p></a>
          <a href="./board_popup.html" class="popup_hide_link"></a>
          <span>포스팅 타이틀 출력란 포스팅 타이틀 출력란 포스팅 타이틀 출력란 포스팅 타이틀 출력란</span>
        </div>
        <div class="slide puw">
          <p class="a_ctg tc1">ESG Contents</p>
          <a class="aLink" href="javascript:void(0);"><div class="siw"><div class="siwHover"><p>DETAIL VIEW</p></div><img src="./img/magazine1.png"></div><p class="sDate">2022.10.28</p></a>
          <a href="./board_popup.html" class="popup_hide_link"></a>
          <span>포스팅 타이틀 출력란 포스팅 타이틀 출력란 포스팅 타이틀 출력란 포스팅 타이틀 출력란</span>
        </div>
        <div class="slide puw">
          <p class="a_ctg tc1">ESG Contents</p>
          <a class="aLink" href="javascript:void(0);"><div class="siw"><div class="siwHover"><p>DETAIL VIEW</p></div><img src="./img/magazine1.png"></div><p class="sDate">2022.10.28</p></a>
          <a href="./board_popup.html" class="popup_hide_link"></a>
          <span>포스팅 타이틀 출력란 포스팅 타이틀 출력란 포스팅 타이틀 출력란 포스팅 타이틀 출력란</span>
        </div>
        <div class="slide puw">
          <p class="a_ctg tc1">ESG Contents</p>
          <a class="aLink" href="javascript:void(0);"><div class="siw"><div class="siwHover"><p>DETAIL VIEW</p></div><img src="./img/magazine1.png"></div><p class="sDate">2022.10.28</p></a>
          <a href="./board_popup.html" class="popup_hide_link"></a>
          <span>포스팅 타이틀 출력란 포스팅 타이틀 출력란 포스팅 타이틀 출력란 포스팅 타이틀 출력란</span>
        </div>
        <div class="slide puw">
          <p class="a_ctg tc1">ESG Contents</p>
          <a class="aLink" href="javascript:void(0);"><div class="siw"><div class="siwHover"><p>DETAIL VIEW</p></div><img src="./img/magazine1.png"></div><p class="sDate">2022.10.28</p></a>
          <a href="./board_popup.html" class="popup_hide_link"></a>
          <span>포스팅 타이틀 출력란 포스팅 타이틀 출력란 포스팅 타이틀 출력란 포스팅 타이틀 출력란</span>
        </div>
        <div class="slide puw">
          <p class="a_ctg tc1">ESG Contents</p>
          <a class="aLink" href="javascript:void(0);"><div class="siw"><div class="siwHover"><p>DETAIL VIEW</p></div><img src="./img/magazine1.png"></div><p class="sDate">2022.10.28</p></a>
          <a href="./board_popup.html" class="popup_hide_link"></a>
          <span>포스팅 타이틀 출력란 포스팅 타이틀 출력란 포스팅 타이틀 출력란 포스팅 타이틀 출력란</span>
        </div>
        <div class="slide loadMore"><a class="btnBg" href="./content_list.html">LOAD MORE</a></div>
      </div>
    </div>
    <div class="msb"></div>
  </div>
  <div class="subtitle">
    <ul>
      <li><a href="#" class="viewAll btnUnderline currentView">View All</a></li>
      <li><a href="#" class="btnUnderline">ESG</a></li>
      <li><a href="#" class="btnUnderline">Trends</a></li>
    </ul>
  </div>
  <!--22.05.13 팝업종료버튼 추가-->
  <div class="popUpexit"><span></span><span></span></div>
<script src="./js/main.js"></script>
<script>
  let slideLength = document.getElementsByClassName('slide').length;
  let slideCount = 1;
  document.querySelector(".eventPg").addEventListener("wheel", eventWheel);
  let moveAllow = 1;
  function moveA(){
    moveAllow = 1;
  }
  function moveA2(){
    moveAllow = 0;
  }


function slideMove(){
  let slideWidth = document.querySelector('.siw').clientWidth;
  if(window.innerWidth > 800){    
    console.log(slideWidth+ 80);
    /*22.06.09 수치 변경*/
    document.getElementById('slider').style.transform = "translateX(calc((((-"+slideWidth+"px - 80px) * "+slideCount+") + "+slideWidth+"px + 80px)))";
  }
  let slideElement = document.getElementsByClassName("slide");
    for(let i = 0; i < slideElement.length; i++){
    slideElement[i].classList.remove("so");
  };
  document.querySelector("#slider div:nth-child(" + slideCount + ")").classList.add("so");
  setTimeout(moveA, 100);
  if(window.innerWidth > 800){
    if( document.querySelector('#slider .slide:nth-child(1)').classList.contains('so') ){
      document.getElementById("titles").classList.remove("firstS");
    } else {    
      document.getElementById("titles").classList.add("firstS");
    }
  }
}

function eventWheel(wEvent) {
  if(moveAllow === 1 && window.innerWidth > 800){
    moveA2();
    let scrollY = wEvent.deltaY;
    if( scrollY > 0){
      if( slideCount < slideLength ){
        slideCount++;
      }
    } else {
      if( slideCount > 1 ){
        slideCount--;
      }
    }
    slideMove();
  };
};
let slider = document.getElementById("slider");
window.addEventListener('resize',function(){
  let slideWidth = document.querySelector(".siw").clientWidth;
  let slider = document.getElementById("slider");
  let msw = (slideWidth + 40) * slideLength;
  if(window.innerWidth <= 800){
    slider.style.width = "calc((200px + 40px ) * " + slideLength + ")";
    slider.style.transform = "translateX(0px)";
  } else {
    /*22.06.09 slider.width 변경*/
    slider.style.width = "unset";
    slider.style.transform = "translateX(100px)";
  }
});
if(window.innerWidth <= 800){
  slider.style.width = "calc((200px + 40px ) * " + slideLength + ")";
}

/*22.05.13 border-radius 반응형으로 전환*/
function radiusCalc(){
  bd = document.querySelector(".so").clientWidth / 2;
  let liw = document.getElementsByClassName("siw");
    for(let i = 0; i < liw.length; i++){
    liw[i].width = " "+ bd +"px ";
    liw[i].style.borderRadius = "0 "+ bd +"px 0 "+ bd +"px"
  };
}
radiusCalc();
window.addEventListener('resize',function(){
  radiusCalc();
});
</script>
</body>
</html>